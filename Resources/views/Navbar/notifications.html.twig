{% if notifications is not defined or adminlte_direct_include is defined %}
    {% set notifications = null %}
    {% set adminlte_notifications = adminlte_notifications() %}
    {% if adminlte_notifications is not null %}
        {% set notifications = adminlte_notifications.notifications %}
        {% set total = adminlte_notifications.total %}
    {% endif %}
{% endif %}
{% if notifications is defined and notifications is not null %}
    <li class="nav-item dropdown">
        <a class="nav-link" data-bs-toggle="dropdown" href="#">
            <i class="bi bi-bell-fill"></i>
            <span class="navbar-badge badge text-bg-warning">{{ total }}</span>
        </a>
        <div class="dropdown-menu dropdown-menu-lg dropdown-menu-end">
            <span class="dropdown-item dropdown-header">{{ 'You have %count% notifications'|trans({'%count%': total}, 'AdminLTEBundle') }}</span>
            {% for notice in notifications %}
                <div class="dropdown-divider"></div>
                <a href="{{ path('adminlte_notification'|route_alias, {id: notice.identifier}) }}" class="dropdown-item">
                    <i class="{{ notice.icon }} {{ notice.type|text_type }}"></i> {{ notice.message }}
                    {# <span class="float-end text-secondary fs-7">{{ notice.createdAt|date }}</span> #}
                </a>
            {% endfor %}
            <div class="dropdown-divider"></div>
            <a href="{{ path('adminlte_notifications'|route_alias) }}" class="dropdown-item dropdown-footer"> {{ 'View all'|trans({}, 'AdminLTEBundle') }} </a>
        </div>
    </li>
{% endif %}
