{% extends '@AdminLTE/layout/base-skeleton.html.twig' %}
{% block title %}AdminLTE 2 | Log in{% endblock %}
{% block body_class %}hold-transition login-page{% endblock %}

{% block body %}
    {% block login_box %}
        <div class="login-box">
            {% include '@AdminLTE/Partials/_logo.html.twig' with {placement: security} %}
            <div class="login-box-body">
                <div class="login-box-msg">
                    <h3 class="login-head">
                        {% block login_box_icon %}{% endblock %}
                        {% block login_box_msg %}{% endblock %}
                    </h3>
                    {% block login_box_error %}
                        {% if error|default(false) %}
                            <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
                        {% endif %}
                    {% endblock %}
                </div>

                {% block login_form %}
                <form action="{{ path('adminlte_login_check'|route_alias) }}" method="post">
                    {% block login_form_start %}{% endblock %}
                    <div class="form-group has-feedback">
                        <input type="text" name="_username" class="form-control" placeholder="{{ 'Username'|trans({}, 'AdminLTEBundle') }}" value="{{ last_username|default('') }}">
                        <span class="glyphicon glyphicon-envelope form-control-feedback"></span>
                    </div>
                    <div class="form-group has-feedback">
                        <input name="_password" type="password" class="form-control" placeholder="{{ 'Password'|trans({}, 'AdminLTEBundle') }}">
                        <span class="glyphicon glyphicon-lock form-control-feedback"></span>
                    </div>
                    <div class="form-group">
                        <input id="remember_me" name="_remember_me" type="checkbox">
                        <label for="remember_me">{{ 'Remember Me'|trans({}, 'AdminLTEBundle') }}</label>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary btn-block">{{ 'Sign In'|trans({}, 'AdminLTEBundle') }}</button>
                    </div>
                    {% if csrf_token %}
                        <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}"/>
                    {% endif %}
                    {% block login_form_end %}{% endblock %}
                </form>
                {% endblock %}
                {% block login_social_auth %}
                    {% set _oauthFB = facebook_oauth_link is defined and facebook_oauth_link is not null %}
                    {% set _oauthGoogle = google_oauth_link is defined and google_oauth_link is not null %}
                    {% if _oauthFB or _oauthGoogle %}
                        <div class="social-auth-links text-center">
                            <p>{{ '- OR -'|trans({}, 'AdminLTEBundle') }}</p>
                            {% if _oauthFB %}
                                <a href="{{ facebook_oauth_link }}" class="btn btn-block btn-social btn-facebook btn-flat"><i class="fab fa-facebook"></i>
                                    {{ 'Sign in using Facebook'|trans({}, 'AdminLTEBundle') }}
                                </a>
                            {% endif  %}
                            {% if _oauthGoogle %}
                                <a href="{{ google_oauth_link }}" class="btn btn-block btn-social btn-google btn-flat"><i class="fab fa-google-plus"></i>
                                    {{ 'Sign in using Google+'|trans({}, 'AdminLTEBundle') }}
                                </a>
                            {% endif  %}
                        </div>
                    {% endif %}
                {% endblock %}
                {% block login_actions %}
                    {% if 'adminlte_password_reset'|route_alias != 'adminlte_password_reset' %}
                        <a href="{{ path('adminlte_password_reset'|route_alias) }}">
                            {{ 'I forgot my password'|trans({}, 'AdminLTEBundle') }}
                        </a>
                        <br>
                    {% endif %}
                    {% if 'adminlte_registration'|route_alias != 'adminlte_registration' %}
                        <a href="{{ path('adminlte_registration'|route_alias) }}" class="text-center">
                            {{ 'Register a new account'|trans({}, 'AdminLTEBundle') }}
                        </a>
                    {% endif %}
                {% endblock %}
            </div>
        </div>
    {% endblock %}
{% endblock %}
